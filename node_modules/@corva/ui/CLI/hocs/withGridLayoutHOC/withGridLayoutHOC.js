import r from"@babel/runtime/helpers/defineProperty";import{get as e,pick as t}from"lodash";import o from"@babel/runtime/helpers/slicedToArray";import{DEFAULT_APP_SIZE as i,GRID_BREAKPOINTS as n,GRID_COLUMN_SIZES as a,GRID_ROW_HEIGHT as c,NON_DRAGGABLE_ELEMENT_SELECTOR as s}from"../../../constants/apps.js";import{isPhoneDetected as p,isNativeDetected as l,isMobileDetected as f}from"../../../utils/mobileDetect.js";import{jsx as m}from"react/jsx-runtime";import{useState as u}from"react";import{getLocalAppData as b,updateLocalAppData as y}from"../utils.js";import{WidthProvider as d,Responsive as g}from"react-grid-layout";import"./withGridLayoutHOC.global.css.js";function O(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,o)}return t}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?O(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}var h=d(g);export default function(r){return function(d){var g=d.manifest.application.key,O=e(d.manifest,"application.ui.initial_size",i),w=l||f,P=u(b(g).coordinates||j(j({},O),{},{x:0,y:0})),v=o(P,2),D=v[0],x=v[1],S=function(r){var e=o(r,1)[0];x(e),y(g,{coordinates:e})};return m(h,{breakpoints:p?n.phone:n.general,cols:a,rowHeight:c,measureBeforeMount:!0,onResizeStop:S,onDragStop:S,isDraggable:!w,isResizable:!w,draggableCancel:s,children:m("div",{"data-grid":D,children:m(r,j(j({},d),{},{coordinates:t(D,["x","y","w","h"])}))},"with-grid-layout-hoc")})}}
