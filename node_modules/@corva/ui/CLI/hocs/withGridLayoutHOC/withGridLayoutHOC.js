import e from"@babel/runtime/helpers/defineProperty";import{get as r,pick as t}from"lodash";import o from"@babel/runtime/helpers/slicedToArray";import{DEFAULT_APP_SIZE as i,GRID_COLUMN_SIZES as n,GRID_ROW_HEIGHT as a,GRID_BREAKPOINTS as p,NON_DRAGGABLE_ELEMENT_SELECTOR as s}from"../../../constants/apps.js";import{isPhoneDetected as c,isNativeDetected as l,isMobileDetected as m}from"../../../utils/mobileDetect.js";import{jsx as u}from"react/jsx-runtime";import{useState as f}from"react";import{isAppMaximized as b}from"../../../components/DevCenter/DevCenterAppContainer/utils.js";import{getLocalAppData as g,updateLocalAppData as d}from"../utils.js";import{WidthProvider as y,Responsive as h}from"react-grid-layout";import"./withGridLayoutHOC.global.css.js";function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function j(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?O(Object(o),!0).forEach((function(t){e(r,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}var w=y(h);export default function(e){return y((function(y){var h=y.manifest.application.key,O=r(y.manifest,"application.ui.initial_size",i),v=l||m,D=b(y.location.query),P=f(g(h).coordinates||j(j({},O),{},{x:0,y:0})),x=o(P,2),C=x[0],S=x[1],H=v||D?n.large:C.w,k=D?window.innerHeight-20:C.h*(a+10)-10,z=D?y.width:(y.width-10)*H/n.large-10,E=function(e){var r=o(e,1)[0];S(r),d(h,{coordinates:r})};return u(w,{breakpoints:c?p.phone:p.general,cols:n,rowHeight:a,measureBeforeMount:!0,onResizeStop:E,onDragStop:E,isDraggable:!v,isResizable:!v,draggableCancel:s,useCSSTransforms:!1,children:u("div",{"data-grid":C,children:u(e,j(j({},y),{},{coordinates:j(j({},t(C,["x","y","w","h"])),{},{pixelHeight:k,pixelWidth:z}),layoutEnvironment:{type:"general"}}))},"with-grid-layout-hoc")})}))}
