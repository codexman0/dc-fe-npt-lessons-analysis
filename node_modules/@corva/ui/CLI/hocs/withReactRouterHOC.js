import r from"@babel/runtime/helpers/defineProperty";import{jsx as e,jsxs as t}from"react/jsx-runtime";import{getAuthToken as n}from"../../clients/clientStorage/index.js";import"../../clients/api/apiCore.js";import"../../clients/constants.js";import"../../clients/jsonApi/index.js";import"../../clients/subscriptions.js";import{AuthContext as o}from"../context/auth.js";import{BrowserRouter as i,Route as c,Redirect as p}from"react-router-dom";import s from"./effects/useProvideAuth.js";import m from"../screens/LoginScreen/LoginScreen.js";import f from"../components/PrivateRoute.js";import u from"../components/App/App.js";function a(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function j(r){var t=r.children,n=s();return e(o.Provider,{value:n,children:t})}var b=function(r,e){!!n()&&e("/")};export default function(r){return function(n){return e(i,{children:e(j,{children:t(u,{children:[e(c,{exact:!0,path:"/",children:e(p,{to:"/app"})}),e(f,{path:"/app",children:e(r,l({},n))}),e(c,{path:"/login",component:m,onEnter:b})]})})})}}
