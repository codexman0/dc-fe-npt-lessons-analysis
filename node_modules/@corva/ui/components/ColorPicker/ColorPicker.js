import r from"@babel/runtime/helpers/defineProperty";import o from"@babel/runtime/helpers/slicedToArray";import{jsxs as e,jsx as t}from"react/jsx-runtime";import{withStyles as n,Typography as i,IconButton as a,Popover as l}from"@material-ui/core";import{useState as p,useRef as c,useEffect as s}from"react";import b from"prop-types";import g from"classnames";import{ColorLens as u}from"@material-ui/icons";import m from"./PaletteChromePicker/PaletteChromePicker.js";var f={rgba:function(r){return"rgba(".concat(r.rgb.r,", ").concat(r.rgb.g,", ").concat(r.rgb.b,", ").concat(r.rgb.a,")")},rgb:function(r){return"rgb(".concat(r.rgb.r,", ").concat(r.rgb.g,", ").concat(r.rgb.b,")")},hex:function(r){return r.hex},rgba_rgb:function(r){return 1===r.rgb.a?f.rgb(r):f.rgba(r)},rgba_hex:function(r){return 1===r.rgb.a?f.hex(r):f.rgba(r)}},h=function(n){var b,m,h=n.label,d=n.value,x=n.converter,v=n.onChange,C=n.buttonClassName,L=n.popoverAnchorOrigin,O=n.popoverTransformOrigin,R=n.labelPosition,k=n.hideLabel,P=n.pickerComponent,y=n.classes,z=p(null),N=o(z,2),T=N[0],B=N[1],D=p(d),S=o(D,2),j=S[0],q=S[1],A=c();s((function(){q(d)}),[d]);return e("div",{className:g(y.root,(b={},r(b,y.topLabelRoot,"top"===R),r(b,y.rightLabelRoot,"right"===R),b)),children:[!k&&t(i,{className:g((m={},r(m,y.topLabel,"top"===R),r(m,y.rightLabel,"right"===R),m)),shrink:!0,children:h}),t(a,{className:g(y.button,C),disableRipple:!0,style:{backgroundColor:j},onClick:function(r){B(r.currentTarget)},children:t(u,{fontSize:"small"})}),t(l,{id:"colors-popper",open:Boolean(T),anchorEl:T,onClose:function(){B(null)},anchorOrigin:L,transformOrigin:O,children:t(P,{color:j,onChange:function(r){var o=f[x](r);q(o),v(o)},onSizeChange:function(){A.current&&A.current.update()}})})]})};h.propTypes={buttonClassName:b.string,label:b.string,value:b.string.isRequired,onChange:b.func.isRequired,converter:b.oneOf(Object.keys(f)),classes:b.shape({button:b.string.isRequired}).isRequired,pickerComponent:b.node,labelPosition:b.oneOf(["top","right"]),popoverAnchorOrigin:b.shape({}),popoverTransformOrigin:b.shape({}),hideLabel:b.bool},h.defaultProps={label:"Color",buttonClassName:null,converter:"rgba_hex",pickerComponent:m,hideLabel:!1,popoverAnchorOrigin:{vertical:"bottom",horizontal:"left"},popoverTransformOrigin:{vertical:"top",horizontal:"left"},labelPosition:"top"};var d=n({root:{position:"relative",display:"flex"},topLabelRoot:{flexDirection:"column"},rightLabelRoot:{flexDirection:"row-reverse",justifyContent:"flex-end",alignItems:"center"},button:{width:"36px",height:"24px",boxShadow:"0px 3px 6px rgba(0, 0, 0, 0.161)",borderRadius:"5px","& svg":{color:"#fff"}},popper:{zIndex:1500},topLabel:{marginBottom:"8px",fontSize:"12px",color:"#BDBDBD"},rightLabel:{marginLeft:"8px",fontSize:"16px"}})(h);export default d;
