import r from"@babel/runtime/helpers/slicedToArray";import{jsx as e,jsxs as o}from"react/jsx-runtime";import{useState as n,useRef as t,useEffect as a}from"react";import i from"prop-types";import c from"classnames";import{withStyles as l}from"@material-ui/core/styles";import u from"@material-ui/core/Button";import p from"@material-ui/core/FormControl";import s from"@material-ui/core/Popper";import m from"@material-ui/core/InputLabel";import b from"@material-ui/core/ClickAwayListener";import g from"@material-ui/icons/ColorLens";import{ChromePicker as f}from"react-color";var h={rgba:function(r){return"rgba(".concat(r.rgb.r,", ").concat(r.rgb.g,", ").concat(r.rgb.b,", ").concat(r.rgb.a,")")},rgb:function(r){return"rgb(".concat(r.rgb.r,", ").concat(r.rgb.g,", ").concat(r.rgb.b,")")},hex:function(r){return r.hex},rgba_rgb:function(r){return 1===r.rgb.a?h.rgb(r):h.rgba(r)},rgba_hex:function(r){return 1===r.rgb.a?h.hex(r):h.rgba(r)}},d=function(i){var l=i.label,f=i.value,d=i.converter,C=i.onChange,v=i.className,N=i.buttonClassName,k=i.popperPlacement,y=i.classes,x=i.hideLabel,L=i.pickerComponent,P=n(null),R=r(P,2),T=R[0],q=R[1],w=n(f),A=r(w,2),E=A[0],_=A[1],j=t();a((function(){_(f)}),[f]);var z=Boolean(T);return e("div",{className:"c-color-picker",children:o(p,{className:v,children:[!x&&e(m,{className:y.inputLabel,shrink:!0,children:l}),e(u,{className:c(y.button,N),variant:"contained",color:"primary",onClick:function(r){q(r.currentTarget)},style:{backgroundColor:E},children:e(g,{})}),e(s,{open:z,anchorEl:T,className:y.popper,popperRef:j,placement:k,children:e(b,{mouseEvent:"onMouseDown",touchEvent:"onTouchStart",onClickAway:function(){q(null)},children:e(L,{color:E,onChange:function(r){var e=h[d](r);_(e),C(e)},onSizeChange:function(){j.current&&j.current.update()}})})})]})})};d.propTypes={className:i.string,buttonClassName:i.string,label:i.string,value:i.string.isRequired,onChange:i.func.isRequired,converter:i.oneOf(Object.keys(h)),classes:i.shape({button:i.string.isRequired}).isRequired,pickerComponent:i.node,popperPlacement:i.string,hideLabel:i.bool},d.defaultProps={label:"Color",className:null,buttonClassName:null,converter:"rgba_hex",pickerComponent:f,popperPlacement:void 0,hideLabel:!1};var C=l((function(r){return{button:{"label + &":{marginTop:r.spacing(3)}},popper:{zIndex:1500},inputLabel:{}}}))(d);export default C;
