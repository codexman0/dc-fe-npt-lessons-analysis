import{jsxs as e,jsx as t}from"react/jsx-runtime";import{withStyles as a,FormControl as s,InputLabel as r,Select as n,MenuItem as i,CircularProgress as l}from"@material-ui/core";import d from"prop-types";import o from"../TruncatedText/index.js";import{useAssetSelectData as u}from"./effects/index.js";var c="DC_SingleAssetEditor",p=function(a){var d=a.label,p=a.currentValue,m=a.defaultValue,h=a.isNullable,f=a.onChange,g=a.classes,v=a.parentAssetId,y=a.assetType,b=a.parentAssetType,A=u(y,p,b,v),T=A.assets,N=A.loading,I=p||m;return e("div",{children:[e(s,{disabled:N,children:[!h&&t(r,{shrink:!!I,children:d}),e(n,{"data-testid":a["data-testid"],value:I,onChange:function(e){return f(e.target.value)},className:g.select,MenuProps:{className:g.selectMenu},children:[h&&t(i,{"data-testid":"".concat(c,"_noActiveAssetMenuItem"),value:m,className:g.menuItem,children:"No active asset"},"empty item"),T.map((function(e){var a=(null==e?void 0:e.name)||"";return t(i,{"data-testid":"".concat(c,"_option_").concat(a,"MenuItem"),value:Number(e.id),className:g.menuItem,children:t(o,{children:a})},e.id)}))]})]}),N&&t(l,{"data-testid":"".concat(c,"_CircularProgress"),size:20,className:g.progress})]})};p.propTypes={classes:d.shape({}).isRequired,appType:d.shape({constants:d.shape({})}),currentValue:d.oneOfType([d.number,d.string]),defaultValue:d.any,onChange:d.func.isRequired,label:d.string,isNullable:d.bool,parentAssetId:d.number,parentAssetType:d.string,assetType:d.string.isRequired,"data-testid":d.string},p.defaultProps={label:"Choose An Asset",currentValue:"",defaultValue:"",appType:void 0,isNullable:!1,parentAssetId:void 0,parentAssetType:void 0,"data-testid":"".concat(c,"_autoComplete")};var m=a({progress:{margin:"0 15px"},select:{width:350},selectMenu:{maxHeight:350},menuItem:{width:350}})(p);export default m;
