import{jsxs as e,jsx as t}from"react/jsx-runtime";import{withStyles as a,FormControl as s,InputLabel as r,Select as n,MenuItem as i,CircularProgress as l}from"@material-ui/core";import d from"prop-types";import u from"../TruncatedText/index.js";import{useAssetSelectData as o}from"./effects/index.js";var c="DC_SingleAssetEditor",p=function(a){var d=a.label,p=a.currentValue,m=a.defaultValue,h=a.isNullable,f=a.onChange,v=a.classes,g=a.parentAssetId,b=a.assetType,A=a.parentAssetType,y=o(b,p,A,g),N=y.assets,T=y.loading,I=p||m;return e("div",{children:[e(s,{disabled:T,children:[!h&&t(r,{shrink:!!I,children:d}),e(n,{"data-testid":a["data-testid"],value:I,onChange:function(e){return f(e.target.value)},className:v.select,MenuProps:{className:v.selectMenu},children:[h&&t(i,{"data-testid":"".concat(c,"_noActiveAssetMenuItem"),value:m,className:v.menuItem,children:"No active asset"},"empty item"),N.map((function(e){var a=(null==e?void 0:e.name)||"";return t(i,{"data-testid":"".concat(c,"_option_").concat(a,"MenuItem"),value:Number(e.id),className:v.menuItem,children:t(u,{children:a})},e.id)}))]})]}),T&&t(l,{"data-testid":"".concat(c,"_CircularProgress"),size:20,className:v.progress})]})};p.defaultProps={label:"Choose An Asset",currentValue:void 0,isNullable:!1,defaultValue:void 0,parentAssetId:void 0,parentAssetType:void 0,"data-testid":"".concat(c,"_autoComplete")},p.propTypes={classes:d.shape({}).isRequired,appType:d.shape({constants:d.shape({})}).isRequired,currentValue:d.number,defaultValue:d.any,onChange:d.func.isRequired,label:d.string,isNullable:d.bool,parentAssetId:d.number,parentAssetType:d.string,assetType:d.string.isRequired,"data-testid":d.string};var m=a({progress:{margin:"0 15px"},select:{width:350},selectMenu:{maxHeight:350},menuItem:{width:350}})(p);export default m;
