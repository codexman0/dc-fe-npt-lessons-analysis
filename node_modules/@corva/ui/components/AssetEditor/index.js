import e from"@babel/runtime/helpers/defineProperty";import{get as t,capitalize as a}from"lodash";import s from"@babel/runtime/helpers/slicedToArray";import{jsxs as l,jsx as r}from"react/jsx-runtime";import{Button as i}from"@material-ui/core";import{useState as o}from"react";import n from"prop-types";import c from"./AssetEditors.css.js";import p from"./SingleAssetEditor.js";import d from"./SingleAssetEditorAutocomplete.js";var u="DC_AppSettingsAssetEditor",m=function(n){var m=n.label,y=n.defaultValue,f=n.isNullable,A=n.onSettingsChange,b=n.settings,h=n.appType,g=t(h,["primaryAsset","assetType","type"]),v=t(h,["primaryAsset","assetType","id"]),T=t(h,["primaryAsset","autocompleteSelect"]),C=t(h,["secondaryAsset","assetType","type"]),N=t(h,["secondaryAsset","assetType","id"]),V=t(h,["secondaryAsset","autocompleteSelect"]),S=t(b,v),_=o(S||y),j=s(_,2),E=j[0],q=j[1],R=o(t(b,N)),k=s(R,2),x=k[0],B=k[1],D=o(!(!C||x)),I=s(D,2),P=I[0],U=I[1],W=o(!(!C||!x)),w=s(W,2),z=w[0],F=w[1],G=function(t){B(t),A(e({},N,t))},H=function(t){q(t),B(void 0),F(!1),U(!!C);var a=e({},v,t);N&&(a[N]=void 0),A(a)};return l("div",{className:c.main,children:[r("div",{className:c.title,children:"Active Asset"}),l("div",{className:c.editor,children:[T?r(d,{onChange:H,defaultValue:y,currentValue:E,isNullable:f,label:m,assetType:g}):r(p,{"data-testid":"".concat(u,"_primaryAutoComplete"),onChange:H,defaultValue:y,currentValue:E,isNullable:f,label:m,assetType:g}),P&&r(i,{"data-testid":"".concat(u,"_changeWellButton"),color:"primary",onClick:function(){F(!0),U(!1)},disabled:!S,children:"Change ".concat(a(C))}),!P&&z&&r(i,{"data-testid":"".concat(u,"_useDefaultButton"),color:"secondary",onClick:function(){B(void 0),F(!1),U(!!C),A(e({},N,void 0))},children:"Use active asset"})]}),z&&r("div",{className:c.editor,children:V?r(d,{onChange:G,defaultValue:y,currentValue:x,isNullable:f,label:"Active ".concat(a(C)),assetType:C,parentAssetId:E,parentAssetType:g}):r(p,{"data-testid":"".concat(u,"_secondaryAutoComplete"),onChange:G,defaultValue:y,currentValue:x,isNullable:f,label:"Active ".concat(a(C)),assetType:C,parentAssetId:E,parentAssetType:g})})]})};m.defaultProps={label:"Choose An Asset",isNullable:!1,defaultValue:void 0},m.propTypes={settings:n.shape({}).isRequired,appType:n.shape({}).isRequired,defaultValue:n.any,onSettingsChange:n.func.isRequired,label:n.string,isNullable:n.bool};export default m;
