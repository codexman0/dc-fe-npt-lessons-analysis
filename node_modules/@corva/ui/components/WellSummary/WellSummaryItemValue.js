import e from"@babel/runtime/helpers/defineProperty";import t from"moment";import{upperFirst as a}from"lodash";import{convertValue as r,getUnitDisplay as n}from"../../utils/convert.js";import"../../constants/goals.js";import"../../constants/apps.js";import i from"../../utils/main.js";import"../../constants/completion.js";import"../../constants/segment.js";import"../../constants/alerts.js";import"../../utils/drillstring/conversion.js";import{getBHASchematic as s}from"../../utils/drillstring/schematic.js";import{orDash as l}from"../../utils/formatting.js";import{jsxs as c,jsx as o,Fragment as m}from"react/jsx-runtime";import{makeStyles as d,Typography as p}from"@material-ui/core";import h from"prop-types";import u from"classnames";import"../../constants/drillstring.js";import{DRILLING_WELL_SUMMARY as f,COMPLETION_WELL_SUMMARY as g}from"../../constants/wellSummary.js";import y from"../Drillstring/BHASchematic.js";import"../Drillstring/BHAComponentIcon.js";import"../Drillstring/BHATable/index.js";import"../Drillstring/BHAComponentDetail/index.js";var v="/static/media/6684df900ff63f28b07f9c505fb7a66e.svg",N=d({value:{fontSize:"14px",fontWeight:500},hasLeftMargin:{marginLeft:4},bhaRoot:{display:"flex",alignItems:"center"},bhaIdRoot:{backgroundColor:"#2196F3",borderRadius:"50%",marginRight:"8px",display:"flex",alignItems:"center",justifyContent:"center"},realBhaRoot:{width:"16px",height:"16px"},bhaIdLabel:{fontWeight:500,fontSize:"12px"},dummyBhaIdLabel:{paddingLeft:"4px",paddingRight:"4px"},bhaActiveIndicator:{fontSize:"12px",padding:"4px",fontWeight:500},nptRoot:{display:"flex",alignItems:"center"},rectIndicator:{width:"8px",height:"8px",backgroundColor:"#D32F2F",borderRadius:"2px",marginRight:"8px"},stageActual:{fontSize:"16px"},stagePercent:{color:"#9E9E9E",marginLeft:"4px"},fluidProppantType:{color:"#9E9E9E"},depthWrapper:{display:"flex",alignItems:"center"},rightImg:{marginRight:"4px"},centerImg:{marginLeft:"4px",marginRight:"4px"},rotate:{transform:"rotate(180deg)"},profileRoot:{display:"flex",alignItems:"flex-start"},profile:{width:"20px",height:"20px",borderRadius:"50%",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"8px",backgroundSize:"20px 20px",backgroundRepeat:"no-repeat",backgroundPosition:"center"}});function k(d){var h=d.item,k=d.summaryData,b=N();if(!k)return null;if(h.key===f.HOLE_DEPTH.key){var I=h.dataGetter(k).holeDepth;return Number.isFinite(I)?c("div",{className:b.depthWrapper,children:[o("img",{src:v,alt:"hole_depth",className:b.centerImg}),c("span",{className:u(b.value,b.hasLeftMargin),children:[Math.floor(I),"’"]})]}):"-"}if(h.key===f.BIT_HOLE_DEPTH.key){var x=h.dataGetter(k),T=x.bitDepth,R=x.holeDepth;return[T,R].every(Number.isFinite)?c("div",{className:b.depthWrapper,children:[o("img",{src:"/static/media/fa2667bad3591deb178e99b521571578.svg",alt:"bit_depth",className:b.rightImg}),c("span",{className:b.value,children:[Math.floor(T),"’ / "]}),o("img",{src:v,alt:"hole_depth",className:b.centerImg}),c("span",{className:b.value,children:[Math.floor(R),"’"]})]}):"-"}if(h.key===f.DIVERGENCE.key){var A=h.dataGetter(k),E=A.distance,S=A.ahead,D=A.right;return[E,S,D].every(Number.isFinite)?c("div",{className:b.depthWrapper,children:[o("span",{className:b.value,children:"".concat(r(E,"length","ft")," ").concat(n("length"))}),o("img",{src:"/static/media/53cecdbd86f03352bda956fca25b537d.svg",alt:"up_arrow",className:u(b.centerImg,e({},b.rotate,S<0))}),o("span",{className:b.value,children:"".concat(Math.abs(r(S,"length","ft"))," ").concat(n("length")," ").concat(S>0?"Ahead":"Behind")}),o("img",{src:"/static/media/d32edb0ff9a69145d2c7917855263251.svg",alt:"left_arrow",className:u(b.centerImg,e({},b.rotate,D>0))}),o("span",{className:b.value,children:"".concat(Math.abs(r(D,"length","ft"))," ").concat(n("length")," ").concat(D>0?"Right":"Left")})]}):"-"}if(h.key===f.LAST_ACTIVE.key||h.key===g.LAST_ACTIVE.key){var G=h.dataGetter(k).timestamp;return o(p,{className:b.value,children:G?t.unix(G).format("MM/DD/YYYY HH:mm"):"-"})}if(h.key===f.CURRENT_ACTIVITY.key||h.key===g.CURRENT_ACTIVITY.key){var L=h.dataGetter(k).activityName;return o(p,{className:b.value,children:l(a(L))})}if(h.key===f.PHASE.key){var j=h.dataGetter(k).phaseName;return o(p,{className:b.value,children:l(j)})}if(h.key===f.HOLE_SECTION.key){var P=h.dataGetter(k).sectionName;return o(p,{className:b.value,children:l(P)})}if(h.key===f.MUD.key){var C=h.dataGetter(k),_=C.mudType,H=C.mudDensity;return o(p,{className:b.value,children:_||H?c(m,{children:[_&&"".concat(_,", "),H&&"".concat(r(H,"density","ppg")," ").concat(n("density"))]}):"-"})}if(h.key===f.NPT.key||h.key===g.NPT.key){var M=h.dataGetter(k),O=M.nptType,B=M.startTime,Y=M.endTime;return O&&B&&Y?c("div",{className:b.nptRoot,children:[o("div",{className:b.rectIndicator}),c(p,{className:b.value,children:[a(O),": ",((Y-B)/3600).fixFloat(1)," hr"]})]}):"-"}if(h.key===f.OPERATIONS_SUMMARY.key||h.key===g.OPERATIONS_SUMMARY.key){var F=h.dataGetter(k),W=F.dateTime,U=F.summary;return c(p,{className:b.value,children:[W?t.unix(W).format("MM/DD/YYYY HH:mm"):"-",o("br",{}),U]})}if(h.key===g.STAGE.key){var w=h.dataGetter(k),z=w.planned,V=w.actual;return V&&z?c(p,{className:b.value,children:[o("span",{className:b.stageActual,children:V||"-"}),o("span",{children:"/"}),o("span",{children:z||"-"}),z&&V?c("span",{className:b.stagePercent,children:["Stg ",Math.floor(V/z*100)," %"]}):null]}):null}if(h.key===g.FLUIDS.key){var q=h.dataGetter(k).fluids;return o("div",{children:q.map((function(e){var t=e.type,a=e.amount,i=e.unit;return c(p,{className:b.value,children:[c("span",{className:b.fluidProppantType,children:[t," - "]}),o("span",{children:"".concat(r(a,"oil",i)," ").concat(n("oil"))})]},"".concat(t,"_").concat(a))}))})}if(h.key===g.PROPPANTS.key){var J=h.dataGetter(k).proppants;return o("div",{children:J.map((function(e){var t=e.type,a=e.amount,i=e.unit;return c(p,{className:b.value,children:[c("span",{className:b.fluidProppantType,children:[t," - "]}),o("span",{children:"".concat(r(a,"mass",i)," ").concat(n("mass"))})]},"".concat(t,"_").concat(a))}))})}if(h.key===f.ALERT.key||h.key===g.ALERT.key){var K=h.dataGetter(k).decisionPath;return o(p,{className:b.value,children:l(K)})}if(h.key===f.ANNOTATION.key||h.key===g.ANNOTATION.key){var Q=h.dataGetter(k),X=Q.firstName,Z=Q.lastName,$=Q.profilePhoto,ee=Q.content,te="".concat(X," ").concat(Z),ae="".concat((X||"").charAt(0)).concat((Z||"").charAt(0));return ee?c("div",{className:b.profileRoot,children:[o("div",{className:b.profile,style:{backgroundColor:"#".concat(i.getColorFromString(te)),backgroundImage:"url(".concat($,")")},children:$?null:ae}),o(p,{className:b.value,children:ee})]}):"-"}if(h.key===f.BHA.key){var re=h.dataGetter(k),ne=re.bhaId,ie=re.components;if(!ne)return null;var se=String(ne)||"-",le=s(ie||[]);return c("div",{className:b.bhaRoot,children:[o("div",{className:u(b.bhaIdRoot,e({},b.realBhaRoot,!se.includes("."))),children:o(p,{className:u(b.bhaIdLabel,e({},b.dummyBhaIdLabel,se.includes("."))),children:se})}),o(y,{schematic:le,containerHeight:20,containerWidth:120})]})}if(h.key===f.CASING.key){var ce=h.dataGetter(k).outerDiameter;return ce?o(p,{className:b.value,children:"".concat(r(ce,"shortLength")," ").concat(n("shortLength"))}):null}if(h.key===f.BHA_COUNT.key){var oe=h.dataGetter(k).count;return o(p,{className:b.value,children:l(oe)})}return null}k.propTypes={item:h.shape({key:h.string,label:h.string,icon:h.node,dataGetter:h.func}).isRequired,summaryData:h.shape({}).isRequired};export default k;
