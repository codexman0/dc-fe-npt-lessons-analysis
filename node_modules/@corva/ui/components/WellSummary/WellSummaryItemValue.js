import e from"@babel/runtime/helpers/defineProperty";import t from"moment";import{upperFirst as a}from"lodash";import{convertValue as r,getUnitDisplay as n}from"../../utils/convert.js";import"../../constants/goals.js";import"../../constants/apps.js";import i from"../../utils/main.js";import"../../constants/completion.js";import"../../constants/segment.js";import"../../constants/alerts.js";import"../../utils/drillstring/conversion.js";import{getBHASchematic as l}from"../../utils/drillstring/schematic.js";import{jsxs as s,jsx as c}from"react/jsx-runtime";import{makeStyles as o,Typography as d}from"@material-ui/core";import m from"prop-types";import p from"classnames";import"../../constants/drillstring.js";import{DRILLING_WELL_SUMMARY as h,COMPLETION_WELL_SUMMARY as u}from"../../constants/wellSummary.js";import f from"../Drillstring/BHASchematic.js";import"../Drillstring/BHAComponentIcon.js";import"../Drillstring/BHATable/index.js";import"../Drillstring/BHAComponentDetail/index.js";var g=o({value:{fontSize:"14px",fontWeight:500},bhaRoot:{display:"flex",alignItems:"center"},bhaIdRoot:{backgroundColor:"#2196F3",borderRadius:"50%",marginRight:"8px",display:"flex",alignItems:"center",justifyContent:"center"},realBhaRoot:{width:"16px",height:"16px"},bhaIdLabel:{fontWeight:500,fontSize:"12px"},dummyBhaIdLabel:{paddingLeft:"4px",paddingRight:"4px"},bhaActiveRoot:{background:"#388E3C",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px",marginLeft:"8px",height:"20px"},bhaActiveIndicator:{fontSize:"12px",padding:"4px",fontWeight:500},nptRoot:{display:"flex",alignItems:"center"},rectIndicator:{width:"8px",height:"8px",backgroundColor:"#D32F2F",borderRadius:"2px",marginRight:"8px"},stageActual:{fontSize:"16px"},stagePercent:{color:"#9E9E9E",marginLeft:"4px"},fluidProppantType:{color:"#9E9E9E"},depthWrapper:{display:"flex",alignItems:"center"},rightImg:{marginRight:"4px"},centerImg:{marginLeft:"4px",marginRight:"4px"},rotate:{transform:"rotate(180deg)"},profileRoot:{display:"flex",alignItems:"flex-start"},profile:{width:"20px",height:"20px",borderRadius:"50%",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"8px",backgroundSize:"20px 20px",backgroundRepeat:"no-repeat",backgroundPosition:"center"}});function y(o){var m=o.item,y=o.summaryData,v=g();if(!y)return null;if(m.key===h.BIT_HOLE_DEPTH.key){var N=m.dataGetter(y),k=N.bitDepth,b=N.holeDepth;return[k,b].every(Number.isFinite)?s("div",{className:v.depthWrapper,children:[c("img",{src:"/static/media/fa2667bad3591deb178e99b521571578.svg",alt:"bit_depth",className:v.rightImg}),s("span",{className:v.value,children:[Math.floor(k),"’ / "]}),c("img",{src:"/static/media/6684df900ff63f28b07f9c505fb7a66e.svg",alt:"hole_depth",className:v.centerImg}),s("span",{className:v.value,children:[Math.floor(b),"’"]})]}):null}if(m.key===h.DIVERGENCE.key){var x=m.dataGetter(y),I=x.distance,R=x.ahead,T=x.right;return[I,R,T].every(Number.isFinite)?s("div",{className:v.depthWrapper,children:[c("span",{className:v.value,children:"".concat(r(I,"length","ft")," ").concat(n("length"))}),c("img",{src:"/static/media/53cecdbd86f03352bda956fca25b537d.svg",alt:"up_arrow",className:p(v.centerImg,e({},v.rotate,R<0))}),c("span",{className:v.value,children:"".concat(Math.abs(r(R,"length","ft"))," ").concat(n("length")," ").concat(R>0?"Ahead":"Behind")}),c("img",{src:"/static/media/d32edb0ff9a69145d2c7917855263251.svg",alt:"left_arrow",className:p(v.centerImg,e({},v.rotate,T>0))}),c("span",{className:v.value,children:"".concat(Math.abs(r(T,"length","ft"))," ").concat(n("length")," ").concat(T>0?"Right":"Left")})]}):null}if(m.key===h.LAST_ACTIVE.key||m.key===u.LAST_ACTIVE.key){var A=m.dataGetter(y).timestamp;return c(d,{className:v.value,children:A?t.unix(A).format("MM/DD/YYYY HH:mm"):""})}if(m.key===h.CURRENT_ACTIVITY.key||m.key===u.CURRENT_ACTIVITY.key){var E=m.dataGetter(y).activityName;return c(d,{className:v.value,children:a(E)})}if(m.key===h.PHASE.key){var S=m.dataGetter(y).phaseName;return c(d,{className:v.value,children:S})}if(m.key===h.HOLE_SECTION.key){var j=m.dataGetter(y).sectionName;return c(d,{className:v.value,children:j})}if(m.key===h.MUD.key){var D=m.dataGetter(y),C=D.mudType,G=D.mudDensity;return s(d,{className:v.value,children:[C&&"".concat(C,", "),G&&"".concat(r(G,"density","ppg")," ").concat(n("density"))]})}if(m.key===h.NPT.key||m.key===u.NPT.key){var P=m.dataGetter(y),L=P.nptType,_=P.startTime,H=P.endTime;return L&&_&&H?s("div",{className:v.nptRoot,children:[c("div",{className:v.rectIndicator}),s(d,{className:v.value,children:[a(L),": ",((H-_)/3600).fixFloat(1)," hr"]})]}):null}if(m.key===h.OPERATIONS_SUMMARY.key||m.key===u.OPERATIONS_SUMMARY.key){var M=m.dataGetter(y),O=M.dateTime,Y=M.summary;return s(d,{className:v.value,children:[O?t.unix(O).format("MM/DD/YYYY HH:mm"):"",c("br",{}),Y]})}if(m.key===u.STAGE.key){var B=m.dataGetter(y),F=B.planned,W=B.actual;return W&&F?s(d,{className:v.value,children:[c("span",{className:v.stageActual,children:W||"-"}),c("span",{children:"/"}),c("span",{children:F||"-"}),F&&W?s("span",{className:v.stagePercent,children:["Stg ",Math.floor(W/F*100)," %"]}):null]}):null}if(m.key===u.FLUIDS.key){var w=m.dataGetter(y).fluids;return c("div",{children:w.map((function(e){var t=e.type,a=e.amount,i=e.unit;return s(d,{className:v.value,children:[s("span",{className:v.fluidProppantType,children:[t," - "]}),c("span",{children:"".concat(r(a,"oil",i)," ").concat(n("oil"))})]},"".concat(t,"_").concat(a))}))})}if(m.key===u.PROPPANTS.key){var z=m.dataGetter(y).proppants;return c("div",{children:z.map((function(e){var t=e.type,a=e.amount,i=e.unit;return s(d,{className:v.value,children:[s("span",{className:v.fluidProppantType,children:[t," - "]}),c("span",{children:"".concat(r(a,"mass",i)," ").concat(n("mass"))})]},"".concat(t,"_").concat(a))}))})}if(m.key===h.ALERT.key||m.key===u.ALERT.key){var U=m.dataGetter(y).decisionPath;return c(d,{className:v.value,children:U})}if(m.key===h.ANNOTATION.key||m.key===u.ANNOTATION.key){var V=m.dataGetter(y),q=V.firstName,J=V.lastName,K=V.profilePhoto,Q=V.content,X="".concat(q," ").concat(J),Z="".concat((q||"").charAt(0)).concat((J||"").charAt(0));return Q?s("div",{className:v.profileRoot,children:[c("div",{className:v.profile,style:{backgroundColor:"#".concat(i.getColorFromString(X)),backgroundImage:"url(".concat(K,")")},children:K?null:Z}),c(d,{className:v.value,children:Q})]}):null}if(m.key===h.BHA.key){var $=m.dataGetter(y),ee=$.bhaId,te=$.components;if(!ee)return null;var ae=String(ee)||"-",re=l(te||[]);return s("div",{className:v.bhaRoot,children:[c("div",{className:p(v.bhaIdRoot,e({},v.realBhaRoot,!ae.includes("."))),children:c(d,{className:p(v.bhaIdLabel,e({},v.dummyBhaIdLabel,ae.includes("."))),children:ae})}),c(f,{schematic:re,containerHeight:20,containerWidth:120}),c("div",{className:v.bhaActiveRoot,children:c(d,{className:v.bhaActiveIndicator,children:"Active"})})]})}return null}y.propTypes={item:m.shape({key:m.string,label:m.string,icon:m.node,dataGetter:m.func}).isRequired,summaryData:m.shape({}).isRequired};export default y;
