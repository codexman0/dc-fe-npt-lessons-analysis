import e from"@babel/runtime/helpers/defineProperty";import{get as t}from"lodash";import{SEGMENTS as n}from"../../../constants/segment.js";import{jsxs as r,jsx as a}from"react/jsx-runtime";import o from"@babel/runtime/helpers/objectWithoutProperties";import{shape as s,node as p,string as i}from"prop-types";import"../../Annotations/AnnotationsContext.js";import"../../Annotations/components/AnnotationsList/index.js";import c from"../../Annotations/components/LastAnnotation/index.js";import d from"./VersionBadge.js";import m from"./PadMode.js";import l from"./AppHeader.css.js";import u from"../../AssetNameLabel/index.js";function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?b(Object(r),!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(e){var s=e.app,p=e.badge,i=e.showLastAnnotation,b=e.currentUser,f=e.appLastAnnotation,h=e.updateCurrentDashboardAppLastAnnotation,y=e.openAnnotationsList,j=e.primaryAssetName,O=e.secondaryAssetName,g=e.layoutEnvironment,L=e.classes,v=o(e,["app","badge","showLastAnnotation","currentUser","appLastAnnotation","updateCurrentDashboardAppLastAnnotation","openAnnotationsList","primaryAssetName","secondaryAssetName","layoutEnvironment","classes"]),N=t(s,"package.manifest.application",{}),P=N.name,D=N.subtitle,w=t(s,"package.manifest.application.segments.0",n.DRILLING);return r("div",{className:L.appHeader,children:[r("div",{className:L.appHeaderTitleWrapper,children:[r("div",{children:[r("div",{className:l.titleWrapper,children:[a("h6",{"data-testid":"".concat("DevCenter_AppHeader","_name"),className:l.title,children:P}),a(d,A({},s.package)),w===n.COMPLETION&&a(m,A({},v))]}),p]}),"general"===t(g,"type")&&a(u,{layoutEnvironment:g,primaryAssetName:j,secondaryAssetName:O,coordinatesPixelWidth:t(s,"coordinates.pixelWidth")})]}),D&&a("h6",{"data-testid":"".concat("DevCenter_AppHeader","_subtitle"),className:l.subtitle,children:D}),i&&f&&a(c,{dashboardAppId:s.id,appId:t(s,["app","id"]),annotation:f,openAnnotationsList:y,updateCurrentDashboardAppLastAnnotation:h,currentUser:b})]})}f.propTypes={app:s({}).isRequired,badge:p,classes:s({appHeader:i,appHeaderTitleWrapper:i})},f.defaultProps={showLastAnnotation:!0,badge:null,classes:{}};export default f;
