import e from"@babel/runtime/helpers/defineProperty";import{get as t}from"lodash";import{SEGMENTS as n}from"../../../constants/segment.js";import{jsxs as a,jsx as r}from"react/jsx-runtime";import s from"@babel/runtime/helpers/objectWithoutProperties";import o from"prop-types";import"../../Annotations/AnnotationsContext.js";import"../../Annotations/components/AnnotationsList/index.js";import i from"../../Annotations/components/LastAnnotation/index.js";import p from"./VersionBadge.js";import l from"./PadMode.js";import d from"./AppHeader.css.js";import c from"../../AssetNameLabel/index.js";function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(t){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?u(Object(a),!0).forEach((function(n){e(t,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function b(e){var o,u,b,A,h=e.app,v=e.badge,f=e.showLastAnnotation,g=e.currentUser,y=e.appLastAnnotation,L=e.updateCurrentDashboardAppLastAnnotation,j=e.openAnnotationsList,O=e.layoutEnvironment,w=e.classes,N=e.coordinates,P=e.rig,D=e.fracFleet,_=e.well,x=s(e,["app","badge","showLastAnnotation","currentUser","appLastAnnotation","updateCurrentDashboardAppLastAnnotation","openAnnotationsList","layoutEnvironment","classes","coordinates","rig","fracFleet","well"]),C=t(h,"package.manifest.application",{}),I=C.name,k=C.subtitle,E=t(h,"package.manifest.application.segments.0",n.DRILLING),H=E===n.DRILLING,W=H?null==P?void 0:P.name:null==D||null===(o=D.attributes)||void 0===o?void 0:o.name,R=(null==h||null===(u=h.settings)||void 0===u?void 0:u.wellId)&&(null==_?void 0:_.name),U=H?W&&"assets/".concat(null==P?void 0:P.asset_id):"assets/types/pad/".concat(null==D?void 0:D.attributes.current_pad_id),F=R?"assets/".concat(_.asset_id):null;return a("div",{className:w.appHeader,children:[a("div",{className:w.appHeaderTitleWrapper,children:[a("div",{children:[a("div",{className:d.titleWrapper,children:[r("h6",{"data-testid":"".concat("DevCenter_AppHeader","_name"),className:d.title,children:I}),r(p,{label:null==h||null===(b=h.package)||void 0===b?void 0:b.label,version:null==h||null===(A=h.package)||void 0===A?void 0:A.version}),E===n.COMPLETION&&r(l,m({},x))]}),v]}),"general"===t(O,"type")&&r(c,{layoutEnvironment:O,primaryAssetName:W,secondaryAssetName:R,coordinatesPixelWidth:N.pixelWidth,primaryAssetLink:U,secondaryAssetLink:F})]}),k&&r("h6",{"data-testid":"".concat("DevCenter_AppHeader","_subtitle"),className:d.subtitle,children:k}),f&&y&&r(i,{dashboardAppId:h.id,appId:t(h,["app","id"]),annotation:y,openAnnotationsList:j,updateCurrentDashboardAppLastAnnotation:L,currentUser:g})]})}b.propTypes={app:o.shape({id:o.number.isRequired,package:o.shape({label:o.string,version:o.string}),settings:o.shape({wellId:o.number})}).isRequired,badge:o.node,classes:o.shape({appHeader:o.string,appHeaderTitleWrapper:o.string}),showLastAnnotation:o.bool,currentUser:o.shape({}),appLastAnnotation:o.shape({}),updateCurrentDashboardAppLastAnnotation:o.func,openAnnotationsList:o.func,primaryAssetName:o.string,secondaryAssetName:o.string,rig:o.shape({name:o.string,asset_id:o.number}),well:o.shape({name:o.string,asset_id:o.number}),fracFleet:o.shape({attributes:o.shape({name:o.string,current_pad_id:o.number})}),layoutEnvironment:o.shape({}),coordinates:o.shape({pixelWidth:o.number.isRequired})},b.defaultProps={appLastAnnotation:null,badge:null,classes:{},showLastAnnotation:!0,updateCurrentDashboardAppLastAnnotation:function(){},rig:null,well:null,fracFleet:null,currentUser:void 0,coordinates:void 0,layoutEnvironment:void 0,primaryAssetName:void 0,secondaryAssetName:void 0,openAnnotationsList:void 0};export default b;
