import{first as e}from"lodash";import t from"@babel/runtime/helpers/slicedToArray";import r from"@babel/runtime/helpers/toConsumableArray";import{COMPLETION_APPTYPE_MODES_DICT as o,DEFAULT_SUPPORTED_PAD_MODES as n,COMPLETION_APP_TYPES as i}from"../../constants/completion.js";import{resolveActiveFracAsset as a,resolveActiveWirelineAsset as s}from"../../utils/completion.js";import{jsx as l}from"react/jsx-runtime";import{makeStyles as p,FormControl as c,Select as m,MenuItem as d}from"@material-ui/core";import{useMemo as u}from"react";import f from"prop-types";import{getWellStatusLabel as g}from"./utils.js";var A=i.padApp,h=i.fracWirelineMultiWellApp,y=i.fracMultiWellApp,b=i.wirelineMultiWellApp,S=i.fracSingleWellApp,v=i.wirelineSingleWellApp,x=p({selectFormControl:{maxWidth:"320px",padding:"5px 8px",marginLeft:"auto"},padSelect:{fontSize:"14px","&:before":{borderBottom:0},"&:after":{borderBottom:0}}}),M=function(i){var p=i.completionAppType,f=i.padModeSetting,M=i.assets,W=i.onChange,C=x(),j="custom"===f.mode?"custom--".concat(e(f.selectedAssets)):f.mode,k=o[p],T=u((function(){return n.filter((function(e){return k.includes(e.key)}))}),[k]),q=u((function(){var e=[A,h,y,S].includes(p)&&a(M),t=[A,h,b,v].includes(p)&&s(M);return M.reduce((function(o,n){var i=e&&e.id===n.id,a=t&&t.id===n.id;return[].concat(r(o),[{key:"custom--".concat(n.id),label:"".concat(n.attributes.name).concat(g(i,a))}])}),[])}),[M,p]),w=T.concat(q),B=function(e){var r=e.split("--"),o=t(r,2),n=o[0],i=o[1],a={mode:n};"custom"===n&&(a.mode="custom",a.selectedAssets=[parseInt(i,10)]),W(a)};return l(c,{classes:{root:C.selectFormControl},children:j&&l(m,{value:j,onChange:function(e){return B(e.target.value)},inputProps:{name:"padModeSelect",id:"pad-mode-select"},className:C.padSelect,children:w.map((function(e){return l(d,{value:e.key,children:e.label},e.key)}))})})};M.propTypes={padModeSetting:f.shape({mode:f.string,selectedAssets:f.arrayOf(f.string)}),assets:f.arrayOf(f.shape()),completionAppType:f.string.isRequired,onChange:f.func.isRequired},M.defaultProps={padModeSetting:{},assets:[]};export default M;
