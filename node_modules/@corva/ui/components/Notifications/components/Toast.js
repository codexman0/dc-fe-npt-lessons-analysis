import e from"@babel/runtime/helpers/defineProperty";import{jsx as t,jsxs as r}from"react/jsx-runtime";import{Grow as i,SnackbarContent as n,Typography as o,IconButton as s}from"@material-ui/core";import{useEffect as a,cloneElement as c}from"react";import l from"@babel/runtime/helpers/objectWithoutProperties";import m from"prop-types";import f from"classnames";import{Close as u,CheckCircleOutline as p,ReportProblemOutlined as d,ReportOutlined as b,InfoOutlined as h}from"@material-ui/icons";import{useStyles as v}from"./styles.js";function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function O(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?g(Object(i),!0).forEach((function(r){e(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var y="NotificationPopup",j={success:p,warning:d,error:b,info:h},C=function(e){e.classes;var m=e.onDismissClick,p=e.toast,d=l(e,["classes","onDismissClick","toast"]),b=p.alertLevel,h=p.autoHideDuration,g=void 0===h?3e3:h,C=p.content,N=p.hideIcon,w=p.icon,P=p.id,k=p.onClick,D=void 0===k?function(){}:k,T=p.timestamp,_=p.title,q=p.variant,R=void 0===q?"info":q;a((function(){var e=setTimeout((function(){return m(P)}),g);return function(){return clearTimeout(e)}}),[]);var I=v(),L=j[R];return t(i,{appear:!0,in:!0,children:t(n,O({classes:{root:f(I.main,!b&&I[R],b&&I["alertLevels-".concat(b)]),action:I.actionContainer,message:I.messageContainer},"aria-describedby":"client-snackbar",message:r("div",{id:"client-snackbar",className:I.messageWrapper,onClick:D,"data-testid":"".concat(y,"_status_").concat({success:"success",info:"info",warning:"warning",error:"error"}[R]),children:[!N&&t("div",{className:I.iconWrapper,children:w?c(w,{className:I.icon,nativeColor:"#fff"}):t(L,{htmlColor:"#fff",className:I.icon})}),r("div",{className:I.message,children:[r("div",{className:I.messageTop,children:[_&&t(o,{"data-testid":"".concat(y,"_title"),variant:"subtitle2",className:I.title,children:_}),T&&t(o,{className:f(I.timestamp,!b&&I[R]),children:T})]}),t("div",{className:f(I.messageContent,!b&&I[R]),children:t(o,{"data-testid":"".concat(y,"_content"),className:f(!b&&I.content),children:C})})]})]}),action:[t(s,{"data-testid":"".concat(y,"_closeButton"),"aria-label":"Close",color:"inherit",onClick:function(){return m(P)},size:"small",children:t(u,{className:I.closeIcon,htmlColor:b?"#000":"#fff",fontSize:"small"})},"close")]},d))})};C.propTypes={onDismissClick:m.func.isRequired,toast:m.shape({alertLevel:m.oneOf(["info","warning","critical"]),autoHideDuration:m.number,content:m.node.isRequired,hideIcon:m.bool,icon:m.node,id:m.oneOfType([m.number,m.string]).isRequired,onClick:m.func,timestamp:m.string,title:m.string,variant:m.oneOf(["success","warning","error","info"])}).isRequired};export default C;
