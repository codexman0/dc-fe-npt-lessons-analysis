"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./validators/index.js"),s=require("path"),r=require("uuid/v1"),t=require("clean-webpack-plugin").CleanWebpackPlugin,o=require("fs"),a=process.cwd(),l=JSON.parse(o.readFileSync(s.resolve(a,"./package.json"),"utf-8")),n=JSON.parse(o.readFileSync(s.resolve(a,"./manifest.json"),"utf-8"));exports.APP_DIRECTORY=a,exports.default=function(o,a){return e({packageJson:l}),{entry:"./src/index.js",output:{filename:"[name].[contenthash].js",path:s.resolve(process.cwd(),"dist"),publicPath:"/"},devServer:{historyApiFallback:!0},performance:{maxAssetSize:1024e3},plugins:[new t],resolve:{symlinks:!1},module:{rules:[{test:/\.css$/i,use:["style-loader",{loader:"css-loader",options:{modules:{localIdentName:"development"===a.mode?"[path][name]__[local]__".concat(r().substr(-5)):"[name]__[hash:base64:3]".concat(r().substr(-5))},importLoaders:1}},{loader:"postcss-loader",options:{postcssOptions:{plugins:["postcss-preset-env"]}}}]},{test:/\.(js|jsx)$/,exclude:/[\\/]node_modules[\\/]/,use:{loader:"babel-loader",options:{presets:["@babel/preset-env",["@babel/preset-react",{runtime:"automatic"}]]}}},{test:/\.(png|jpe?g|gif)$/i,use:[{loader:"file-loader"}]},{test:/\.svg$/,use:[{loader:"svg-url-loader",options:{limit:1e4}}]}]}}},exports.manifestJson=n,exports.packageJson=l;
