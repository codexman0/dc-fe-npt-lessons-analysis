"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./validators/index.js"),s=require("path"),r=require("uuid/v1"),t=require("clean-webpack-plugin").CleanWebpackPlugin,a=require("fs"),o=process.cwd(),n=JSON.parse(a.readFileSync(s.resolve(o,"./package.json"),"utf-8")),l=JSON.parse(a.readFileSync(s.resolve(o,"./manifest.json"),"utf-8"));exports.APP_DIRECTORY=o,exports.default=function(a,o){return e({packageJson:n}),{entry:"./src/index.js",output:{filename:"[name].[contenthash].js",path:s.resolve(process.cwd(),"dist"),publicPath:"/"},devServer:{historyApiFallback:!0},performance:{maxAssetSize:1024e3},plugins:[new t],resolve:{symlinks:!1},module:{rules:[{test:/\.css$/i,use:["style-loader",{loader:"css-loader",options:{modules:{localIdentName:"development"===o.mode?"[path][name]__[local]__".concat(r().substr(-5)):"[name]__[hash:base64:3]".concat(r().substr(-5))},importLoaders:1}},{loader:"postcss-loader",options:{postcssOptions:{plugins:["postcss-preset-env"]}}}]},{test:/\.(js|jsx)$/,exclude:/[\\/]node_modules[\\/]/,use:{loader:"babel-loader",options:{presets:["@babel/preset-env",["@babel/preset-react",{runtime:"automatic"}]]}}}]}}},exports.manifestJson=l,exports.packageJson=n;
